<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Botões de Play e Stop</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-color: #F0F0F0;
        }
        .btn-custom {
            border-radius: 50%; 
            color: white;
            width: 60px;
            height: 60px;
            font-size: 24px;
            border: none;
            transition: background-color 0.3s, box-shadow 0.3s;
            outline: none;
            user-select: none; 
        }
        .btn-play {
            background-color: #B0A1C4; 
        }
        .btn-play.pressed {
            background-color: #8A2BE2; 
            box-shadow: 0 0 10px #8A2BE2;
        }
        .btn-play.pulse {
            animation: pulsePlay 1s infinite; 
        }
        .btn-play:focus {
            outline: none;
        }
        .btn-stop {
            background-color: #FF6347; 
        }
        .btn-stop.pressed {
            background-color: #FF4500; 
            box-shadow: 0 0 10px #FF4500; 
        }
        .btn-stop.pulse {
            animation: pulseStop 1s infinite;
        }
        .btn-stop:focus {
            outline: none;
        }
        @keyframes pulsePlay {
            0% {
                box-shadow: 0 0 10px 0 rgba(138, 43, 226, 0.7); 
            }
            50% {
                box-shadow: 0 0 20px 5px rgba(138, 43, 226, 0.7); 
            }
            100% {
                box-shadow: 0 0 10px 0 rgba(138, 43, 226, 0.7); 
            }
        }
        @keyframes pulseStop {
            0% {
                box-shadow: 0 0 10px 0 rgba(255, 69, 0, 0.7);
            }
            50% {
                box-shadow: 0 0 20px 5px rgba(255, 69, 0, 0.7);
            }
            100% {
                box-shadow: 0 0 10px 0 rgba(255, 69, 0, 0.7);
            }
        }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center" style="height: 100vh;">
    <div>
        <button class="btn-custom btn-play" id="playButton">
            <i class="bi bi-play-fill"></i>
        </button>
        <button class="btn-custom btn-stop pressed pulse" id="stopButton">
            <i class="bi bi-stop-fill"></i>
        </button>
        <div class="mt-3">
            <label for="pulseRange">Velocidade do Pulso (BPM):</label>
            <input type="range" id="pulseRange" min="30" max="240" step="1" value="120">
            <span id="bpmValue">120</span>
        </div>
    </div>
    <script>
        const playButton = document.getElementById('playButton');
        const stopButton = document.getElementById('stopButton');
        const pulseRange = document.getElementById('pulseRange');
        const bpmValue = document.getElementById('bpmValue');

        const togglePressedState = (event) => {
            const button = event.currentTarget;
            if (button === playButton) {
                stopButton.classList.remove('pressed', 'pulse');
                playButton.classList.add('pulse');
            } else {
                playButton.classList.remove('pressed', 'pulse');
                stopButton.classList.add('pulse');
            }

            button.classList.remove('pressed');
            setTimeout(() => button.classList.add('pressed'), 100);
        };

        const mudarTempoCompasso = (bpm) => {
            const tempo = parseInt(bpm.value);
            const bpmValor = 60000 / tempo;
            bpmValue.textContent = tempo;

            playButton.style.animationDuration = `${bpmValor}ms`;
            stopButton.style.animationDuration = `${bpmValor}ms`;
        };

        pulseRange.addEventListener('input', () => mudarTempoCompasso(pulseRange));
        playButton.addEventListener('mousedown', togglePressedState);
        playButton.addEventListener('touchstart', togglePressedState);
        stopButton.addEventListener('mousedown', togglePressedState);
        stopButton.addEventListener('touchstart', togglePressedState);

        // Inicializar a exibição do BPM no carregamento da página
        mudarTempoCompasso(pulseRange);
    </script>
</body>
</html>
